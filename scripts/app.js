const todoAdd=document.querySelector(".add"),todoList=document.querySelector(".todos"),search=document.querySelector(".search input"),clearBtn=document.querySelector(".clear");!function(){for(let e in localStorage){localStorage.getItem(e)&&(todoList.innerHTML+=localStorage.getItem(e))}}();const saveTaskToLocalStorage=(e,t)=>{t&&localStorage.setItem(e,t)},deleteTaskFromLocalStorage=e=>{localStorage.removeItem(e)};todoAdd.addEventListener("submit",e=>{e.preventDefault();const t=todoAdd.add.value.trim();t.length&&(createTodoList(t),todoAdd.reset())});const createTodoList=e=>{const t=`\n        <li class="todos__li">\n            <span>${e}</span>\n            <i class="fa fa-trash-alt delete"></i>\n        </li>\n    `;todoList.innerHTML+=t,saveTaskToLocalStorage(e,t)};todoList.addEventListener("click",e=>{if(e.target.classList.contains("delete")){e.target.parentElement.remove();const t=e.target.parentElement.textContent.trim();deleteTaskFromLocalStorage(t)}}),clearBtn.addEventListener("click",()=>{for(;todoList.lastChild;)todoList.removeChild(todoList.lastChild);localStorage.clear()});const filterTaskes=e=>{const t=Array.from(todoList.children);t.filter(t=>!t.textContent.toLowerCase().includes(e)).forEach(e=>e.classList.add("filtered")),t.filter(t=>t.textContent.toLowerCase().includes(e)).forEach(e=>e.classList.remove("filtered"))};search.addEventListener("keyup",()=>{const e=search.value.trim().toLowerCase();filterTaskes(e)});